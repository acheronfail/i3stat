# i3 config file (v4)
font pango:IosevkaTerm Nerd Font 12

# keybindings
bindsym w kill
bindsym q exit
bindsym i exec sh -c 'env | grep -i i3 >&2'

bindsym bracketleft        exec istat-ipc --socket /tmp/istat-socket.dev custom pulse volume-down sink
bindsym bracketright       exec istat-ipc --socket /tmp/istat-socket.dev custom pulse volume-up   sink
bindsym backslash          exec istat-ipc --socket /tmp/istat-socket.dev custom pulse mute-toggle sink
bindsym shift+bracketleft  exec istat-ipc --socket /tmp/istat-socket.dev custom pulse volume-down source
bindsym shift+bracketright exec istat-ipc --socket /tmp/istat-socket.dev custom pulse volume-up   source
bindsym shift+backslash    exec istat-ipc --socket /tmp/istat-socket.dev custom pulse mute-toggle source

bindsym a                  exec istat-ipc --socket /tmp/istat-socket.dev click  pulse scroll_down
bindsym s                  exec istat-ipc --socket /tmp/istat-socket.dev click  pulse scroll_up
bindsym d                  exec istat-ipc --socket /tmp/istat-socket.dev click  pulse middle
bindsym shift+a            exec istat-ipc --socket /tmp/istat-socket.dev click  pulse scroll_down -m Shift
bindsym shift+s            exec istat-ipc --socket /tmp/istat-socket.dev click  pulse scroll_up   -m Shift
bindsym shift+d            exec istat-ipc --socket /tmp/istat-socket.dev click  pulse middle      -m Shift

# long mode to trigger short bar
set $mode xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
mode "$mode" {
  bindsym space mode "default"
}
bindsym space mode "$mode"

# bar configuration
bar {
        font pango:IosevkaTerm Nerd Font 12
        position top
        tray_output primary
        status_command RUST_LOG=istat=trace istat --socket /tmp/istat-socket.dev
}